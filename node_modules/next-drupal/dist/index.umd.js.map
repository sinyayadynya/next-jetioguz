{"version":3,"file":"index.umd.js","sources":["../src/get-cache.ts","../src/get-access-token.ts","../src/utils.ts","../src/get-menu.ts","../src/get-resource-collection.ts","../src/get-paths.ts","../src/get-resource.ts","../src/preview.ts","../src/translate-path.ts","../src/get-resource-type.ts","../src/get-search-index.ts","../src/get-view.ts","../src/use-menu.tsx","../src/logger.ts","../src/jsonapi-errors.ts","../src/client.ts"],"sourcesContent":["import NodeCache from \"node-cache\"\n\nexport const cache = new NodeCache()\n","import { cache } from \"./get-cache\"\nimport { AccessToken } from \"./types\"\n\nconst CACHE_KEY = \"NEXT_DRUPAL_ACCESS_TOKEN\"\n\nexport async function getAccessToken(): Promise<AccessToken> {\n  if (!process.env.DRUPAL_CLIENT_ID || !process.env.DRUPAL_CLIENT_SECRET) {\n    return null\n  }\n\n  const cached = cache.get<AccessToken>(CACHE_KEY)\n  if (cached?.access_token) {\n    return cached\n  }\n\n  const basic = Buffer.from(\n    `${process.env.DRUPAL_CLIENT_ID}:${process.env.DRUPAL_CLIENT_SECRET}`\n  ).toString(\"base64\")\n\n  const response = await fetch(\n    `${process.env.NEXT_PUBLIC_DRUPAL_BASE_URL}/oauth/token`,\n    {\n      method: \"POST\",\n      headers: {\n        Authorization: `Basic ${basic}`,\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      },\n      body: `grant_type=client_credentials`,\n    }\n  )\n\n  if (!response.ok) {\n    throw new Error(response.statusText)\n  }\n\n  const result: AccessToken = await response.json()\n\n  cache.set(CACHE_KEY, result, result.expires_in)\n\n  return result\n}\n","import { GetStaticPropsContext } from \"next\"\nimport Jsona from \"jsona\"\nimport { getAccessToken } from \"./get-access-token\"\nimport { AccessToken, Locale } from \"./types\"\nimport { stringify } from \"qs\"\n\nconst JSONAPI_PREFIX = process.env.DRUPAL_JSONAPI_PREFIX || \"/jsonapi\"\n\nconst dataFormatter = new Jsona()\n\nexport function deserialize(body, options?) {\n  if (!body) return null\n\n  return dataFormatter.deserialize(body, options)\n}\n\nexport async function getJsonApiPathForResourceType(\n  type: string,\n  locale?: Locale\n) {\n  const index = await getJsonApiIndex(locale)\n\n  return index?.links[type]?.href\n}\n\nexport async function getJsonApiIndex(\n  locale?: Locale,\n  options?: {\n    accessToken?: AccessToken\n  }\n): Promise<{\n  links: {\n    [type: string]: {\n      href: string\n    }\n  }\n}> {\n  const url = buildUrl(\n    locale ? `/${locale}${JSONAPI_PREFIX}` : `${JSONAPI_PREFIX}`\n  )\n\n  // As per https://www.drupal.org/node/2984034 /jsonapi is public.\n  // We only call buildHeaders if accessToken or locale is explicitly set.\n  // This is for rare cases where /jsonapi might be protected.\n  const response = await fetch(url.toString(), {\n    headers:\n      locale || options\n        ? await buildHeaders(options)\n        : {\n            \"Content-Type\": \"application/json\",\n          },\n  })\n\n  if (!response.ok) {\n    throw new Error(response.statusText)\n  }\n\n  return await response.json()\n}\n\nexport function buildUrl(\n  path: string,\n  params?: string | Record<string, string> | URLSearchParams\n): URL {\n  const url = new URL(\n    path.charAt(0) === \"/\"\n      ? `${process.env.NEXT_PUBLIC_DRUPAL_BASE_URL}${path}`\n      : path\n  )\n\n  if (params) {\n    // Use instead URLSearchParams for nested params.\n    url.search = stringify(params)\n  }\n\n  return url\n}\n\nexport async function buildHeaders({\n  accessToken,\n  headers = {\n    \"Content-Type\": \"application/json\",\n  },\n}: {\n  accessToken?: AccessToken\n  headers?: RequestInit[\"headers\"]\n} = {}): Promise<RequestInit[\"headers\"]> {\n  // This allows an access_token (preferrably long-lived) to be set directly on the env.\n  // This reduces the number of OAuth call to the Drupal server.\n  // Intentionally marked as unstable for now.\n  if (process.env.UNSTABLE_DRUPAL_ACCESS_TOKEN) {\n    headers[\n      \"Authorization\"\n    ] = `Bearer ${process.env.UNSTABLE_DRUPAL_ACCESS_TOKEN}`\n\n    return headers\n  }\n\n  const token = accessToken || (await getAccessToken())\n  if (token) {\n    headers[\"Authorization\"] = `Bearer ${token.access_token}`\n  }\n\n  return headers\n}\n\nexport function getPathFromContext(\n  context: GetStaticPropsContext,\n  prefix = \"\"\n) {\n  let { slug } = context.params\n\n  slug = Array.isArray(slug)\n    ? slug.map((s) => encodeURIComponent(s)).join(\"/\")\n    : slug\n\n  // Handle locale.\n  if (context.locale && context.locale !== context.defaultLocale) {\n    slug = `/${context.locale}/${slug}`\n  }\n\n  return !slug\n    ? process.env.DRUPAL_FRONT_PAGE\n    : prefix\n    ? `${prefix}/${slug}`\n    : slug\n}\n\nexport function syncDrupalPreviewRoutes(path) {\n  if (window && window.top !== window.self) {\n    window.parent.postMessage(\n      { type: \"NEXT_DRUPAL_ROUTE_SYNC\", path },\n      process.env.NEXT_PUBLIC_DRUPAL_BASE_URL\n    )\n  }\n}\n","import {\n  AccessToken,\n  DrupalMenuLinkContent,\n  JsonApiWithLocaleOptions,\n} from \"./types\"\nimport { buildHeaders, buildUrl, deserialize } from \"./utils\"\n\nexport async function getMenu<T extends DrupalMenuLinkContent>(\n  name: string,\n  options?: {\n    deserialize?: boolean\n    accessToken?: AccessToken\n  } & JsonApiWithLocaleOptions\n): Promise<{\n  items: T[]\n  tree: T[]\n}> {\n  options = {\n    deserialize: true,\n    ...options,\n  }\n\n  const localePrefix =\n    options?.locale && options.locale !== options.defaultLocale\n      ? `/${options.locale}`\n      : \"\"\n\n  const url = buildUrl(`${localePrefix}/jsonapi/menu_items/${name}`)\n\n  const response = await fetch(url.toString(), {\n    headers: await buildHeaders(options),\n  })\n\n  if (!response.ok) {\n    throw new Error(response.statusText)\n  }\n\n  const data = await response.json()\n\n  const items = options.deserialize ? deserialize(data) : data\n\n  const { items: tree } = buildMenuTree(items)\n\n  return {\n    items,\n    tree,\n  }\n}\n\nfunction buildMenuTree(\n  links: DrupalMenuLinkContent[],\n  parent: DrupalMenuLinkContent[\"id\"] = \"\"\n) {\n  if (!links?.length) {\n    return {\n      items: [],\n    }\n  }\n\n  const children = links.filter((link) => link.parent === parent)\n\n  return children.length\n    ? {\n        items: children.map((link) => ({\n          ...link,\n          ...buildMenuTree(links, link.id),\n        })),\n      }\n    : {}\n}\n","import { GetStaticPropsContext } from \"next\"\nimport {\n  AccessToken,\n  JsonApiParams,\n  JsonApiWithLocaleOptions,\n  JsonApiResource,\n} from \"./types\"\nimport {\n  buildHeaders,\n  buildUrl,\n  deserialize,\n  getJsonApiPathForResourceType,\n} from \"./utils\"\n\nexport async function getResourceCollection<T = JsonApiResource[]>(\n  type: string,\n  options?: {\n    deserialize?: boolean\n    accessToken?: AccessToken\n  } & JsonApiWithLocaleOptions\n): Promise<T> {\n  options = {\n    deserialize: true,\n    ...options,\n  }\n\n  const apiPath = await getJsonApiPathForResourceType(\n    type,\n    options?.locale !== options?.defaultLocale ? options.locale : undefined\n  )\n\n  if (!apiPath) {\n    throw new Error(`Error: resource of type ${type} not found.`)\n  }\n\n  const url = buildUrl(apiPath, {\n    ...options?.params,\n  })\n\n  const response = await fetch(url.toString(), {\n    headers: await buildHeaders(options),\n  })\n\n  if (!response.ok) {\n    throw new Error(response.statusText)\n  }\n\n  const json = await response.json()\n\n  return options.deserialize ? deserialize(json) : json\n}\n\nexport async function getResourceCollectionFromContext<T = JsonApiResource[]>(\n  type: string,\n  context: GetStaticPropsContext,\n  options?: {\n    deserialize?: boolean\n    params?: JsonApiParams\n  }\n): Promise<T> {\n  options = {\n    deserialize: true,\n    ...options,\n  }\n\n  // // Filter out unpublished entities.\n  // if (!context.preview) {\n  //   options.params = {\n  //     \"filter[status]\": \"1\",\n  //     ...options.params,\n  //   }\n  // }\n\n  return await getResourceCollection<T>(type, {\n    ...options,\n    locale: context.locale,\n    defaultLocale: context.defaultLocale,\n  })\n}\n","import { GetStaticPathsContext, GetStaticPathsResult } from \"next\"\nimport { getResourceCollection } from \"./get-resource-collection\"\nimport { AccessToken, JsonApiParams, Locale } from \"./types\"\n\nexport async function getPathsFromContext(\n  types: string | string[],\n  context: GetStaticPathsContext,\n  options: {\n    params?: JsonApiParams\n    accessToken?: AccessToken\n  } = {}\n): Promise<GetStaticPathsResult[\"paths\"]> {\n  if (typeof types === \"string\") {\n    types = [types]\n  }\n\n  const paths = await Promise.all(\n    types.map(async (type) => {\n      // Use sparse fieldset to expand max size.\n      options.params = {\n        [`fields[${type}]`]: \"path\",\n        ...options?.params,\n      }\n\n      // const paths = await Promise.all(\n      //   context.locales.map(async (locale) => {\n      //     const resources = await getResourceCollection(type, {\n      //       deserialize: true,\n      //       locale,\n      //       defaultLocale: context.defaultLocale,\n      //       ...options,\n      //     })\n\n      //     return buildPathsFromResources(resources, locale)\n      //   })\n      // )\n\n      // return paths.flat()\n\n      // Handle localized path aliases\n      if (!context.locales?.length) {\n        const resources = await getResourceCollection(type, {\n          deserialize: true,\n          ...options,\n        })\n\n        return buildPathsFromResources(resources)\n      }\n\n      const paths = await Promise.all(\n        context.locales.map(async (locale) => {\n          const resources = await getResourceCollection(type, {\n            deserialize: true,\n            locale,\n            defaultLocale: context.defaultLocale,\n            ...options,\n          })\n\n          return buildPathsFromResources(resources, locale)\n        })\n      )\n\n      return paths.flat()\n    })\n  )\n\n  return paths.flat()\n}\n\nfunction buildPathsFromResources(resources, locale?: Locale) {\n  return resources?.flatMap((resource) => {\n    const slug =\n      resource?.path?.alias === process.env.DRUPAL_FRONT_PAGE\n        ? \"/\"\n        : resource?.path?.alias\n\n    const path = {\n      params: {\n        slug: `${slug?.replace(/^\\/|\\/$/g, \"\")}`.split(\"/\"),\n      },\n    }\n\n    if (locale) {\n      path[\"locale\"] = locale\n    }\n\n    return path\n  })\n}\n","import { GetStaticPropsContext } from \"next\"\nimport { stringify } from \"qs\"\nimport {\n  AccessToken,\n  JsonApiParams,\n  JsonApiWithLocaleOptions,\n  JsonApiResource,\n} from \"./types\"\nimport {\n  buildHeaders,\n  buildUrl,\n  deserialize,\n  getJsonApiPathForResourceType,\n  getPathFromContext,\n} from \"./utils\"\n\nexport async function getResourceFromContext<T extends JsonApiResource>(\n  type: string,\n  context: GetStaticPropsContext,\n  options?: {\n    prefix?: string\n    deserialize?: boolean\n    params?: JsonApiParams\n    accessToken?: AccessToken\n    isVersionable?: boolean\n  }\n): Promise<T> {\n  options = {\n    deserialize: true,\n    // Add support for revisions for node by default.\n    // TODO: Make this required before stable?\n    isVersionable: /^node--/.test(type),\n    ...options,\n  }\n\n  const path = getPathFromContext(context, options?.prefix)\n\n  // Filter out unpublished entities.\n  // if (!context.preview) {\n  //   options.params = {\n  //     \"filter[status]\": \"1\",\n  //     ...options?.params,\n  //   }\n  // }\n\n  const previewData = context.previewData as { resourceVersion?: string }\n\n  const resource = await getResourceByPath<T>(path, {\n    deserialize: options.deserialize,\n    isVersionable: options.isVersionable,\n    locale: context.locale,\n    defaultLocale: context.defaultLocale,\n    params: {\n      resourceVersion: previewData?.resourceVersion,\n      ...options?.params,\n    },\n  })\n\n  // If no locale is passed, skip entity if not default_langcode.\n  // This happens because decoupled_router will still translate the path\n  // to a resource.\n  // TODO: Figure out if we want this behavior.\n  // For now this causes a bug where a non-i18n sites builds (ISR) pages for\n  // localized pages.\n  // if (!context.locale && !resource?.default_langcode) {\n  //   return null\n  // }\n\n  return resource\n}\n\nexport async function getResourceByPath<T extends JsonApiResource>(\n  path: string,\n  options?: {\n    accessToken?: AccessToken\n    deserialize?: boolean\n    isVersionable?: boolean\n  } & JsonApiWithLocaleOptions\n): Promise<T> {\n  options = {\n    deserialize: true,\n    isVersionable: false,\n    params: {},\n    ...options,\n  }\n\n  if (!path) {\n    return null\n  }\n\n  if (\n    options.locale &&\n    options.defaultLocale &&\n    path.indexOf(options.locale) !== 1\n  ) {\n    path = path === \"/\" ? path : path.replace(/^\\/+/, \"\")\n    path = getPathFromContext({\n      params: { slug: [path] },\n      locale: options.locale,\n      defaultLocale: options.defaultLocale,\n    })\n  }\n\n  const { resourceVersion = \"rel:latest-version\", ...params } = options.params\n\n  if (options.isVersionable) {\n    params.resourceVersion = resourceVersion\n  }\n\n  const resourceParams = stringify(params)\n\n  const payload = [\n    {\n      requestId: \"router\",\n      action: \"view\",\n      uri: `/router/translate-path?path=${path}&_format=json`,\n      headers: { Accept: \"application/vnd.api+json\" },\n    },\n    {\n      requestId: \"resolvedResource\",\n      action: \"view\",\n      uri: `{{router.body@$.jsonapi.individual}}?${resourceParams.toString()}`,\n      waitFor: [\"router\"],\n    },\n  ]\n\n  // Localized subrequests.\n  // I was hoping we would not need this but it seems like subrequests is not properly\n  // setting the jsonapi locale from a translated path.\n  let subrequestsPath = \"/subrequests\"\n  if (\n    options.locale &&\n    options.defaultLocale &&\n    options.locale !== options.defaultLocale\n  ) {\n    subrequestsPath = `/${options.locale}/subrequests`\n  }\n\n  const url = buildUrl(subrequestsPath, {\n    _format: \"json\",\n  })\n\n  const response = await fetch(url.toString(), {\n    method: \"POST\",\n    credentials: \"include\",\n    headers: await buildHeaders(options),\n    redirect: \"follow\",\n    body: JSON.stringify(payload),\n  })\n\n  if (!response.ok) {\n    throw new Error(response.statusText)\n  }\n\n  const json = await response.json()\n\n  if (!json[\"resolvedResource#uri{0}\"]) {\n    return null\n  }\n\n  const data = JSON.parse(json[\"resolvedResource#uri{0}\"]?.body)\n\n  if (data.errors) {\n    throw new Error(data.errors[0].detail)\n  }\n\n  return options.deserialize ? deserialize(data) : data\n}\n\nexport async function getResource<T extends JsonApiResource>(\n  type: string,\n  uuid: string,\n  options?: {\n    accessToken?: AccessToken\n    deserialize?: boolean\n  } & JsonApiWithLocaleOptions\n): Promise<T> {\n  options = {\n    deserialize: true,\n    params: {},\n    ...options,\n  }\n\n  const apiPath = await getJsonApiPathForResourceType(\n    type,\n    options?.locale !== options?.defaultLocale ? options.locale : undefined\n  )\n\n  if (!apiPath) {\n    throw new Error(`Error: resource of type ${type} not found.`)\n  }\n\n  const url = buildUrl(`${apiPath}/${uuid}`, {\n    ...options?.params,\n  })\n\n  const response = await fetch(url.toString(), {\n    headers: await buildHeaders(options),\n  })\n\n  if (!response.ok) {\n    throw new Error(response.statusText)\n  }\n\n  const json = await response.json()\n\n  return options.deserialize ? deserialize(json) : json\n}\n","import { NextApiRequest, NextApiResponse } from \"next\"\nimport { getResourceByPath } from \"./get-resource\"\nimport { JsonApiWithLocaleOptions } from \"./types\"\n\ninterface PreviewOptions {\n  errorMessages?: {\n    secret?: string\n    slug?: string\n  }\n}\n\nexport function DrupalPreview(options?: PreviewOptions) {\n  return (request, response) => PreviewHandler(request, response, options)\n}\n\nexport async function PreviewHandler(\n  request?: NextApiRequest,\n  response?: NextApiResponse,\n  options?: PreviewOptions\n) {\n  const { slug, resourceVersion, secret, locale, defaultLocale } = request.query\n\n  if (secret !== process.env.DRUPAL_PREVIEW_SECRET) {\n    return response.status(401).json({\n      message: options?.errorMessages.secret || \"Invalid preview secret.\",\n    })\n  }\n\n  if (!slug) {\n    return response\n      .status(401)\n      .end({ message: options?.errorMessages.slug || \"Invalid slug.\" })\n  }\n\n  let _options: GetResourcePreviewUrlOptions = {\n    isVersionable: typeof resourceVersion !== \"undefined\",\n  }\n  if (locale && defaultLocale) {\n    _options = {\n      ..._options,\n      locale: locale as string,\n      defaultLocale: defaultLocale as string,\n    }\n  }\n\n  const url = await getResourcePreviewUrl(slug as string, _options)\n\n  if (!url) {\n    response\n      .status(404)\n      .end({ message: options?.errorMessages.slug || \"Invalid slug\" })\n  }\n\n  response.setPreviewData({\n    resourceVersion,\n  })\n\n  response.writeHead(307, { Location: url })\n\n  return response.end()\n}\n\ntype GetResourcePreviewUrlOptions = JsonApiWithLocaleOptions & {\n  isVersionable?: boolean\n}\n\nexport async function getResourcePreviewUrl(\n  slug: string,\n  options?: GetResourcePreviewUrlOptions\n) {\n  const entity = await getResourceByPath(slug, options)\n\n  if (!entity) {\n    return null\n  }\n\n  if (!entity?.path) {\n    throw new Error(\n      `Error: the path attribute is missing for entity type ${entity.type}`\n    )\n  }\n\n  return entity?.default_langcode\n    ? entity.path.alias\n    : `/${entity.path.langcode}${entity.path.alias}`\n}\n","import { GetStaticPropsContext } from \"next\"\nimport { AccessToken, DrupalTranslatedPath } from \"./types\"\nimport { buildHeaders, buildUrl, getPathFromContext } from \"./utils\"\n\nexport async function translatePath(\n  path: string,\n  options?: {\n    accessToken?: AccessToken\n  }\n): Promise<DrupalTranslatedPath> {\n  const url = buildUrl(\"/router/translate-path\", {\n    path,\n  })\n\n  const response = await fetch(url.toString(), {\n    headers: await buildHeaders(options),\n  })\n\n  if (!response.ok) {\n    return null\n  }\n\n  const json = await response.json()\n\n  return json\n}\n\nexport async function translatePathFromContext(\n  context: GetStaticPropsContext,\n  options?: {\n    accessToken?: AccessToken\n    prefix?: string\n  }\n): Promise<DrupalTranslatedPath> {\n  options = {\n    prefix: \"\",\n    ...options,\n  }\n  const path = getPathFromContext(context, options.prefix)\n\n  const response = await translatePath(path, {\n    accessToken: options.accessToken,\n  })\n\n  return response\n}\n","import { GetStaticPropsContext } from \"next\"\nimport { translatePathFromContext } from \"./translate-path\"\nimport { AccessToken } from \"./types\"\n\nexport async function getResourceTypeFromContext(\n  context: GetStaticPropsContext,\n  options?: {\n    accessToken?: AccessToken\n    prefix?: string\n  }\n): Promise<string> {\n  try {\n    const response = await translatePathFromContext(context, options)\n\n    return response.jsonapi.resourceName\n  } catch (error) {\n    return null\n  }\n}\n","import { GetStaticPropsContext } from \"next\"\nimport { AccessToken, JsonApiResource, JsonApiWithLocaleOptions } from \"./types\"\nimport { buildHeaders, buildUrl, deserialize } from \"./utils\"\n\nexport async function getSearchIndex<T = JsonApiResource[]>(\n  name: string,\n  options?: {\n    deserialize?: boolean\n    accessToken?: AccessToken\n  } & JsonApiWithLocaleOptions\n): Promise<T> {\n  options = {\n    deserialize: true,\n    ...options,\n  }\n\n  const localePrefix =\n    options?.locale && options.locale !== options.defaultLocale\n      ? `/${options.locale}`\n      : \"\"\n\n  const url = buildUrl(`${localePrefix}/jsonapi/index/${name}`, options.params)\n\n  const response = await fetch(url.toString(), {\n    headers: await buildHeaders(options),\n  })\n\n  if (!response.ok) {\n    throw new Error(response.statusText)\n  }\n\n  const json = await response.json()\n\n  return options.deserialize ? deserialize(json) : json\n}\n\nexport async function getSearchIndexFromContext<T = JsonApiResource[]>(\n  name: string,\n  context: GetStaticPropsContext,\n  options?: {\n    deserialize?: boolean\n    accessToken?: AccessToken\n  } & JsonApiWithLocaleOptions\n): Promise<T> {\n  options = {\n    deserialize: true,\n    ...options,\n  }\n\n  return await getSearchIndex<T>(name, {\n    ...options,\n    locale: context.locale,\n    defaultLocale: context.defaultLocale,\n  })\n}\n","import { AccessToken, JsonApiWithLocaleOptions } from \"./types\"\nimport { buildHeaders, buildUrl, deserialize } from \"./utils\"\n\nexport async function getView<T>(\n  name: string,\n  options?: {\n    deserialize?: boolean\n    accessToken?: AccessToken\n  } & JsonApiWithLocaleOptions\n): Promise<{\n  results: T\n  /* eslint-disable  @typescript-eslint/no-explicit-any */\n  meta: Record<string, any>\n  links: {\n    [key in \"next\" | \"prev\" | \"self\"]?: {\n      href: \"string\"\n    }\n  }\n}> {\n  options = {\n    deserialize: true,\n    ...options,\n  }\n\n  const localePrefix =\n    options?.locale && options.locale !== options.defaultLocale\n      ? `/${options.locale}`\n      : \"\"\n\n  const [viewId, displayId] = name.split(\"--\")\n\n  const url = buildUrl(\n    `${localePrefix}/jsonapi/views/${viewId}/${displayId}`,\n    options.params\n  )\n\n  const response = await fetch(url.toString(), {\n    headers: await buildHeaders(options),\n  })\n\n  if (!response.ok) {\n    throw new Error(response.statusText)\n  }\n\n  const data = await response.json()\n\n  const results = options.deserialize ? deserialize(data) : data\n\n  return {\n    results,\n    meta: data.meta,\n    links: data.links,\n  }\n}\n","import * as React from \"react\"\nimport { useRouter } from \"next/router\"\n\nimport { getMenu } from \"./get-menu\"\nimport { DrupalMenuLinkContent } from \"./types\"\n\nexport function useMenu<T extends DrupalMenuLinkContent>(\n  name: string\n): {\n  items: T[]\n  tree: T[]\n  error: unknown\n  isLoading: boolean\n} {\n  const router = useRouter()\n  const [data, setData] = React.useState<{\n    items: T[]\n    tree: T[]\n  }>(null)\n  const [error, setError] = React.useState(null)\n  const [isLoading, setIsLoading] = React.useState<boolean>(false)\n\n  React.useEffect(() => {\n    const fetchMenuItems = async () => {\n      setIsLoading(true)\n      try {\n        const data = await getMenu<T>(name, {\n          locale: router.locale,\n          defaultLocale: router.defaultLocale,\n        })\n        setData(data)\n        setIsLoading(false)\n      } catch (error) {\n        setError(error)\n        setIsLoading(false)\n      }\n    }\n    fetchMenuItems()\n  }, [router.locale])\n\n  return { ...data, error, isLoading }\n}\n","import { Logger } from \".\"\n\n// Default logger. Uses console.\nexport const logger: Logger = {\n  log(message) {\n    console.log(`[next-drupal][log]:`, message)\n  },\n  debug(message) {\n    console.debug(`[next-drupal][debug]:`, message)\n  },\n  warn(message) {\n    console.warn(`[next-drupal][debug]:`, message)\n  },\n  error(message) {\n    console.error(`[next-drupal][error]:`, message)\n  },\n}\n","import { JsonApiError } from \"./types\"\n\nexport class JsonApiErrors extends Error {\n  errors: JsonApiError[] | string\n  statusCode: number\n\n  constructor(errors: JsonApiError[], statusCode: number) {\n    super()\n\n    this.errors = errors\n    this.statusCode = statusCode\n    this.message = JsonApiErrors.formatMessage(errors)\n  }\n\n  private static formatMessage(errors) {\n    if (typeof errors === \"string\") {\n      return errors\n    }\n\n    const [error] = errors\n\n    let message = `${error.status} ${error.title}`\n\n    if (error.detail) {\n      message += `\\n${error.detail}`\n    }\n\n    return message\n  }\n}\n","import type {\n  GetStaticPathsContext,\n  GetStaticPathsResult,\n  GetStaticPropsContext,\n  NextApiRequest,\n  NextApiResponse,\n} from \"next\"\nimport { stringify } from \"qs\"\nimport Jsona from \"jsona\"\n\nimport type {\n  JsonApiResource,\n  Locale,\n  AccessToken,\n  JsonApiResponse,\n  JsonApiWithLocaleOptions,\n  JsonApiParams,\n  DrupalTranslatedPath,\n  DrupalMenuLinkContent,\n  FetchOptions,\n  DrupalClientOptions,\n  BaseUrl,\n  JsonApiWithAuthOptions,\n  PathPrefix,\n  JsonApiResourceWithPath,\n  PathAlias,\n  PreviewOptions,\n  JsonApiWithCacheOptions,\n  JsonApiCreateResourceBody,\n  JsonApiUpdateResourceBody,\n  DrupalClientAuthUsernamePassword,\n  DrupalClientAuthAccessToken,\n  DrupalClientAuthClientIdSecret,\n  JsonApiCreateFileResourceBody,\n  DrupalView,\n  DrupalFile,\n} from \"./types\"\nimport { logger as defaultLogger } from \"./logger\"\nimport { JsonApiErrors } from \"./jsonapi-errors\"\n\nconst DEFAULT_API_PREFIX = \"/jsonapi\"\nconst DEFAULT_FRONT_PAGE = \"/home\"\nconst DEFAULT_WITH_AUTH = false\n\n// From simple_oauth.\nconst DEFAULT_AUTH_URL = \"/oauth/token\"\n\n// See https://jsonapi.org/format/#content-negotiation.\nconst DEFAULT_HEADERS = {\n  \"Content-Type\": \"application/vnd.api+json\",\n  Accept: \"application/vnd.api+json\",\n}\n\nfunction isBasicAuth(\n  auth: DrupalClientOptions[\"auth\"]\n): auth is DrupalClientAuthUsernamePassword {\n  return (\n    (auth as DrupalClientAuthUsernamePassword)?.username !== undefined ||\n    (auth as DrupalClientAuthUsernamePassword)?.password !== undefined\n  )\n}\n\nfunction isAccessTokenAuth(\n  auth: DrupalClientOptions[\"auth\"]\n): auth is DrupalClientAuthAccessToken {\n  return (auth as DrupalClientAuthAccessToken)?.access_token !== undefined\n}\n\nfunction isClientIdSecretAuth(\n  auth: DrupalClient[\"auth\"]\n): auth is DrupalClientAuthClientIdSecret {\n  return (\n    (auth as DrupalClientAuthClientIdSecret)?.clientId !== undefined ||\n    (auth as DrupalClientAuthClientIdSecret)?.clientSecret !== undefined\n  )\n}\n\nexport class DrupalClient {\n  baseUrl: BaseUrl\n\n  debug: DrupalClientOptions[\"debug\"]\n\n  frontPage: DrupalClientOptions[\"frontPage\"]\n\n  private serializer: DrupalClientOptions[\"serializer\"]\n\n  private cache: DrupalClientOptions[\"cache\"]\n\n  private throwJsonApiErrors?: DrupalClientOptions[\"throwJsonApiErrors\"]\n\n  private logger: DrupalClientOptions[\"logger\"]\n\n  private fetcher?: DrupalClientOptions[\"fetcher\"]\n\n  private _headers?: DrupalClientOptions[\"headers\"]\n\n  private _auth?: DrupalClientOptions[\"auth\"]\n\n  private _apiPrefix: DrupalClientOptions[\"apiPrefix\"]\n\n  private useDefaultResourceTypeEntry?: DrupalClientOptions[\"useDefaultResourceTypeEntry\"]\n\n  private _token?: AccessToken\n\n  private accessToken?: DrupalClientOptions[\"accessToken\"]\n\n  private accessTokenScope?: DrupalClientOptions[\"accessTokenScope\"]\n\n  private tokenExpiresOn?: number\n\n  private withAuth?: DrupalClientOptions[\"withAuth\"]\n\n  private previewSecret?: DrupalClientOptions[\"previewSecret\"]\n\n  private forceIframeSameSiteCookie?: DrupalClientOptions[\"forceIframeSameSiteCookie\"]\n\n  /**\n   * Instantiates a new DrupalClient.\n   *\n   * const client = new DrupalClient(baseUrl)\n   *\n   * @param {baseUrl} baseUrl The baseUrl of your Drupal site. Do not add the /jsonapi suffix.\n   * @param {options} options Options for the client. See Experiment_DrupalClientOptions.\n   */\n  constructor(baseUrl: BaseUrl, options: DrupalClientOptions = {}) {\n    if (!baseUrl || typeof baseUrl !== \"string\") {\n      throw new Error(\"The 'baseUrl' param is required.\")\n    }\n\n    const {\n      apiPrefix = DEFAULT_API_PREFIX,\n      serializer = new Jsona(),\n      cache = null,\n      debug = false,\n      frontPage = DEFAULT_FRONT_PAGE,\n      useDefaultResourceTypeEntry = false,\n      headers = DEFAULT_HEADERS,\n      logger = defaultLogger,\n      withAuth = DEFAULT_WITH_AUTH,\n      fetcher,\n      auth,\n      previewSecret,\n      accessToken,\n      forceIframeSameSiteCookie = false,\n      throwJsonApiErrors = true,\n    } = options\n\n    this.baseUrl = baseUrl\n    this.apiPrefix = apiPrefix\n    this.serializer = serializer\n    this.frontPage = frontPage\n    this.debug = debug\n    this.useDefaultResourceTypeEntry = useDefaultResourceTypeEntry\n    this.fetcher = fetcher\n    this.auth = auth\n    this.headers = headers\n    this.logger = logger\n    this.withAuth = withAuth\n    this.previewSecret = previewSecret\n    this.cache = cache\n    this.accessToken = accessToken\n    this.forceIframeSameSiteCookie = forceIframeSameSiteCookie\n    this.throwJsonApiErrors = throwJsonApiErrors\n\n    // Do not throw errors in production.\n    if (process.env.NODE_ENV === \"production\") {\n      this.throwJsonApiErrors = false\n    }\n\n    this._debug(\"Debug mode is on.\")\n  }\n\n  set apiPrefix(apiPrefix: DrupalClientOptions[\"apiPrefix\"]) {\n    this._apiPrefix = apiPrefix.charAt(0) === \"/\" ? apiPrefix : `/${apiPrefix}`\n  }\n\n  get apiPrefix() {\n    return this._apiPrefix\n  }\n\n  set auth(auth: DrupalClientOptions[\"auth\"]) {\n    if (typeof auth === \"object\") {\n      if (isBasicAuth(auth)) {\n        if (!auth.username || !auth.password) {\n          throw new Error(\n            `'username' and 'password' are required for auth. See https://next-drupal.org/docs/client/auth`\n          )\n        }\n      } else if (isAccessTokenAuth(auth)) {\n        if (!auth.access_token || !auth.token_type) {\n          throw new Error(\n            `'access_token' and 'token_type' are required for auth. See https://next-drupal.org/docs/client/auth`\n          )\n        }\n      } else if (!auth.clientId || !auth.clientSecret) {\n        throw new Error(\n          `'clientId' and 'clientSecret' are required for auth. See https://next-drupal.org/docs/client/auth`\n        )\n      }\n\n      auth = {\n        url: DEFAULT_AUTH_URL,\n        ...auth,\n      }\n    }\n\n    this._auth = auth\n  }\n\n  set headers(value: DrupalClientOptions[\"headers\"]) {\n    this._headers = value\n  }\n\n  private set token(token: AccessToken) {\n    this._token = token\n    this.tokenExpiresOn = Date.now() + token.expires_in * 1000\n  }\n\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n  async fetch(input: RequestInfo, init?: FetchOptions): Promise<Response> {\n    init = {\n      ...init,\n      credentials: \"include\",\n      headers: {\n        ...this._headers,\n        ...init?.headers,\n      },\n    }\n\n    // Using the auth set on the client.\n    // TODO: Abstract this to a re-usable.\n    if (init?.withAuth) {\n      this._debug(`Using authenticated request.`)\n\n      if (init.withAuth === true) {\n        if (typeof this._auth === \"undefined\") {\n          throw new Error(\n            \"auth is not configured. See https://next-drupal.org/docs/client/auth\"\n          )\n        }\n\n        // By default, if withAuth is set to true, we use the auth configured\n        // in the client constructor.\n        if (typeof this._auth === \"function\") {\n          this._debug(`Using custom auth callback.`)\n\n          init[\"headers\"][\"Authorization\"] = this._auth()\n        } else if (typeof this._auth === \"string\") {\n          this._debug(`Using custom authorization header.`)\n\n          init[\"headers\"][\"Authorization\"] = this._auth\n        } else if (typeof this._auth === \"object\") {\n          this._debug(`Using custom auth credentials.`)\n\n          if (isBasicAuth(this._auth)) {\n            const basic = Buffer.from(\n              `${this._auth.username}:${this._auth.password}`\n            ).toString(\"base64\")\n\n            init[\"headers\"][\"Authorization\"] = `Basic ${basic}`\n          } else if (isClientIdSecretAuth(this._auth)) {\n            // Use the built-in client_credentials grant.\n            this._debug(`Using default auth (client_credentials).`)\n\n            // Fetch an access token and add it to the request.\n            // Access token can be fetched from cache or using a custom auth method.\n            const token = await this.getAccessToken(this._auth)\n            if (token) {\n              init[\"headers\"][\"Authorization\"] = `Bearer ${token.access_token}`\n            }\n          } else if (isAccessTokenAuth(this._auth)) {\n            init[\"headers\"][\n              \"Authorization\"\n            ] = `${this._auth.token_type} ${this._auth.access_token}`\n          }\n        }\n      } else if (typeof init.withAuth === \"string\") {\n        this._debug(`Using custom authorization header.`)\n\n        init[\"headers\"][\"Authorization\"] = init.withAuth\n      } else if (typeof init.withAuth === \"function\") {\n        this._debug(`Using custom authorization callback.`)\n\n        init[\"headers\"][\"Authorization\"] = init.withAuth()\n      } else if (isBasicAuth(init.withAuth)) {\n        this._debug(`Using basic authorization header`)\n\n        const basic = Buffer.from(\n          `${init.withAuth.username}:${init.withAuth.password}`\n        ).toString(\"base64\")\n\n        init[\"headers\"][\"Authorization\"] = `Basic ${basic}`\n      } else if (isClientIdSecretAuth(init.withAuth)) {\n        // Fetch an access token and add it to the request.\n        // Access token can be fetched from cache or using a custom auth method.\n        const token = await this.getAccessToken(init.withAuth)\n        if (token) {\n          init[\"headers\"][\"Authorization\"] = `Bearer ${token.access_token}`\n        }\n      } else if (isAccessTokenAuth(init.withAuth)) {\n        init[\"headers\"][\n          \"Authorization\"\n        ] = `${init.withAuth.token_type} ${init.withAuth.access_token}`\n      }\n    }\n\n    if (this.fetcher) {\n      this._debug(`Using custom fetcher.`)\n\n      return await this.fetcher(input, init)\n    }\n\n    this._debug(`Using default fetch (polyfilled by Next.js).`)\n\n    return await fetch(input, init)\n  }\n\n  async createResource<T extends JsonApiResource>(\n    type: string,\n    body: JsonApiCreateResourceBody,\n    options?: JsonApiWithLocaleOptions & JsonApiWithAuthOptions\n  ): Promise<T> {\n    options = {\n      deserialize: true,\n      withAuth: true,\n      ...options,\n    }\n\n    const apiPath = await this.getEntryForResourceType(\n      type,\n      options?.locale !== options?.defaultLocale ? options.locale : undefined\n    )\n\n    const url = this.buildUrl(apiPath, options?.params)\n\n    this._debug(`Creating resource of type ${type}.`)\n    this._debug(url.toString())\n\n    // Add type to body.\n    body.data.type = type\n\n    const response = await this.fetch(url.toString(), {\n      method: \"POST\",\n      body: JSON.stringify(body),\n      withAuth: options.withAuth,\n    })\n\n    if (!response?.ok) {\n      await this.handleJsonApiErrors(response)\n    }\n\n    const json = await response.json()\n\n    return options.deserialize ? this.deserialize(json) : json\n  }\n\n  async createFileResource<T = DrupalFile>(\n    type: string,\n    body: JsonApiCreateFileResourceBody,\n    options?: JsonApiWithLocaleOptions & JsonApiWithAuthOptions\n  ): Promise<T> {\n    options = {\n      deserialize: true,\n      withAuth: true,\n      ...options,\n    }\n\n    const hostType = body?.data?.attributes?.type\n\n    const apiPath = await this.getEntryForResourceType(\n      hostType,\n      options?.locale !== options?.defaultLocale ? options.locale : undefined\n    )\n\n    const url = this.buildUrl(\n      `${apiPath}/${body.data.attributes.field}`,\n      options?.params\n    )\n\n    this._debug(`Creating file resource for media of type ${type}.`)\n    this._debug(url.toString())\n\n    const response = await this.fetch(url.toString(), {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/octet-stream\",\n        Accept: \"application/vnd.api+json\",\n        \"Content-Disposition\": `file; filename=\"${body.data.attributes.filename}\"`,\n      },\n      body: body.data.attributes.file,\n      withAuth: options.withAuth,\n    })\n\n    if (!response?.ok) {\n      await this.handleJsonApiErrors(response)\n    }\n\n    const json = await response.json()\n\n    return options.deserialize ? this.deserialize(json) : json\n  }\n\n  async updateResource<T extends JsonApiResource>(\n    type: string,\n    uuid: string,\n    body: JsonApiUpdateResourceBody,\n    options?: JsonApiWithLocaleOptions & JsonApiWithAuthOptions\n  ): Promise<T> {\n    options = {\n      deserialize: true,\n      withAuth: true,\n      ...options,\n    }\n\n    const apiPath = await this.getEntryForResourceType(\n      type,\n      options?.locale !== options?.defaultLocale ? options.locale : undefined\n    )\n\n    const url = this.buildUrl(`${apiPath}/${uuid}`, options?.params)\n\n    this._debug(`Updating resource of type ${type} with id ${uuid}.`)\n    this._debug(url.toString())\n\n    // Update body.\n    body.data.type = type\n    body.data.id = uuid\n\n    const response = await this.fetch(url.toString(), {\n      method: \"PATCH\",\n      body: JSON.stringify(body),\n      withAuth: options.withAuth,\n    })\n\n    if (!response?.ok) {\n      await this.handleJsonApiErrors(response)\n    }\n\n    const json = await response.json()\n\n    return options.deserialize ? this.deserialize(json) : json\n  }\n\n  async deleteResource(\n    type: string,\n    uuid: string,\n    options?: JsonApiWithLocaleOptions & JsonApiWithAuthOptions\n  ): Promise<boolean> {\n    options = {\n      withAuth: true,\n      params: {},\n      ...options,\n    }\n\n    const apiPath = await this.getEntryForResourceType(\n      type,\n      options?.locale !== options?.defaultLocale ? options.locale : undefined\n    )\n\n    const url = this.buildUrl(`${apiPath}/${uuid}`, options?.params)\n\n    this._debug(`Deleting resource of type ${type} with id ${uuid}.`)\n    this._debug(url.toString())\n\n    const response = await this.fetch(url.toString(), {\n      method: \"DELETE\",\n      withAuth: options.withAuth,\n    })\n\n    if (!response?.ok) {\n      await this.handleJsonApiErrors(response)\n    }\n\n    return response.status === 204\n  }\n\n  async getResource<T extends JsonApiResource>(\n    type: string,\n    uuid: string,\n    options?: JsonApiWithLocaleOptions &\n      JsonApiWithAuthOptions &\n      JsonApiWithCacheOptions\n  ): Promise<T> {\n    options = {\n      deserialize: true,\n      withAuth: this.withAuth,\n      withCache: false,\n      params: {},\n      ...options,\n    }\n\n    if (options.withCache) {\n      const cached = (await this.cache.get(options.cacheKey)) as string\n\n      if (cached) {\n        this._debug(`Returning cached resource ${type} with id ${uuid}`)\n\n        const json = JSON.parse(cached)\n\n        return options.deserialize ? this.deserialize(json) : json\n      }\n    }\n\n    const apiPath = await this.getEntryForResourceType(\n      type,\n      options?.locale !== options?.defaultLocale ? options.locale : undefined\n    )\n\n    const url = this.buildUrl(`${apiPath}/${uuid}`, options?.params)\n\n    this._debug(`Fetching resource ${type} with id ${uuid}.`)\n    this._debug(url.toString())\n\n    const response = await this.fetch(url.toString(), {\n      withAuth: options.withAuth,\n    })\n\n    if (!response?.ok) {\n      await this.handleJsonApiErrors(response)\n    }\n\n    const json = await response.json()\n\n    if (options.withCache) {\n      await this.cache.set(options.cacheKey, JSON.stringify(json))\n    }\n\n    return options.deserialize ? this.deserialize(json) : json\n  }\n\n  async getResourceFromContext<T extends JsonApiResource>(\n    input: string | DrupalTranslatedPath,\n    context: GetStaticPropsContext,\n    options?: {\n      pathPrefix?: PathPrefix\n      isVersionable?: boolean\n    } & JsonApiWithLocaleOptions &\n      JsonApiWithAuthOptions\n  ): Promise<T> {\n    const type = typeof input === \"string\" ? input : input.jsonapi.resourceName\n\n    const previewData = context.previewData as {\n      resourceVersion?: string\n    }\n\n    options = {\n      deserialize: true,\n      pathPrefix: \"/\",\n      withAuth: this.getAuthFromContextAndOptions(context, options),\n      params: {},\n      ...options,\n    }\n\n    const _options = {\n      deserialize: options.deserialize,\n      isVersionable: options.isVersionable,\n      locale: context.locale,\n      defaultLocale: context.defaultLocale,\n      withAuth: options?.withAuth,\n      params: options?.params,\n    }\n\n    // Check if resource is versionable.\n    // Add support for revisions for node by default.\n    const isVersionable = options.isVersionable || /^node--/.test(type)\n\n    // If the resource is versionable and no resourceVersion is supplied via params.\n    // Use the resourceVersion from previewData or fallback to the latest version.\n    if (\n      isVersionable &&\n      typeof options.params.resourceVersion === \"undefined\"\n    ) {\n      options.params.resourceVersion =\n        previewData?.resourceVersion || \"rel:latest-version\"\n    }\n\n    if (typeof input !== \"string\") {\n      // Fix for subrequests and translation.\n      // TODO: Confirm if we still need this after https://www.drupal.org/i/3111456.\n      // @shadcn, note to self:\n      // Given an entity at /example with no translation.\n      // When we try to translate /es/example, decoupled router will properly\n      // translate to the untranslated version and set the locale to es.\n      // However a subrequests to /es/subrequests for decoupled router will fail.\n      if (context.locale && input.entity.langcode !== context.locale) {\n        context.locale = input.entity.langcode\n      }\n\n      // Given we already have the path info, we can skip subrequests and just make a simple\n      // request to the Drupal site to get the entity.\n      if (input.entity?.uuid) {\n        return await this.getResource<T>(type, input.entity.uuid, _options)\n      }\n    }\n\n    const path = this.getPathFromContext(context, {\n      pathPrefix: options?.pathPrefix,\n    })\n\n    const resource = await this.getResourceByPath<T>(path, _options)\n\n    // If no locale is passed, skip entity if not default_langcode.\n    // This happens because decoupled_router will still translate the path\n    // to a resource.\n    // TODO: Figure out if we want this behavior.\n    // For now this causes a bug where a non-i18n sites builds (ISR) pages for\n    // localized pages.\n    // if (!context.locale && !resource?.default_langcode) {\n    //   return null\n    // }\n\n    return resource\n  }\n\n  async getResourceByPath<T extends JsonApiResource>(\n    path: string,\n    options?: {\n      isVersionable?: boolean\n    } & JsonApiWithLocaleOptions &\n      JsonApiWithAuthOptions\n  ): Promise<T> {\n    options = {\n      deserialize: true,\n      isVersionable: false,\n      withAuth: this.withAuth,\n      params: {},\n      ...options,\n    }\n\n    if (!path) {\n      return null\n    }\n\n    if (\n      options.locale &&\n      options.defaultLocale &&\n      path.indexOf(options.locale) !== 1\n    ) {\n      path = path === \"/\" ? path : path.replace(/^\\/+/, \"\")\n      path = this.getPathFromContext({\n        params: { slug: [path] },\n        locale: options.locale,\n        defaultLocale: options.defaultLocale,\n      })\n    }\n\n    // If a resourceVersion is provided, assume entity type is versionable.\n    if (options.params.resourceVersion) {\n      options.isVersionable = true\n    }\n\n    const { resourceVersion = \"rel:latest-version\", ...params } = options.params\n\n    if (options.isVersionable) {\n      params.resourceVersion = resourceVersion\n    }\n\n    const resourceParams = stringify(params)\n\n    // We are intentionally not using translatePath here.\n    // We want a single request using subrequests.\n    const payload = [\n      {\n        requestId: \"router\",\n        action: \"view\",\n        uri: `/router/translate-path?path=${path}&_format=json`,\n        headers: { Accept: \"application/vnd.api+json\" },\n      },\n      {\n        requestId: \"resolvedResource\",\n        action: \"view\",\n        uri: `{{router.body@$.jsonapi.individual}}?${resourceParams.toString()}`,\n        waitFor: [\"router\"],\n      },\n    ]\n\n    // Localized subrequests.\n    // I was hoping we would not need this but it seems like subrequests is not properly\n    // setting the jsonapi locale from a translated path.\n    // TODO: Confirm if we still need this after https://www.drupal.org/i/3111456.\n    let subrequestsPath = \"/subrequests\"\n    if (\n      options.locale &&\n      options.defaultLocale &&\n      options.locale !== options.defaultLocale\n    ) {\n      subrequestsPath = `/${options.locale}/subrequests`\n    }\n\n    const url = this.buildUrl(subrequestsPath, {\n      _format: \"json\",\n    })\n\n    const response = await this.fetch(url.toString(), {\n      method: \"POST\",\n      credentials: \"include\",\n      redirect: \"follow\",\n      body: JSON.stringify(payload),\n      withAuth: options.withAuth,\n    })\n\n    const json = await response.json()\n\n    if (!json?.[\"resolvedResource#uri{0}\"]?.body) {\n      if (json?.router?.body) {\n        const error = JSON.parse(json.router.body)\n        if (error?.message) {\n          this.throwError(new Error(error.message))\n        }\n      }\n\n      return null\n    }\n\n    const data = JSON.parse(json[\"resolvedResource#uri{0}\"]?.body)\n\n    if (data.errors) {\n      this.throwError(new Error(this.formatJsonApiErrors(data.errors)))\n    }\n\n    return options.deserialize ? this.deserialize(data) : data\n  }\n\n  async getResourceCollection<T = JsonApiResource[]>(\n    type: string,\n    options?: {\n      deserialize?: boolean\n    } & JsonApiWithLocaleOptions &\n      JsonApiWithAuthOptions\n  ): Promise<T> {\n    options = {\n      withAuth: this.withAuth,\n      deserialize: true,\n      ...options,\n    }\n\n    const apiPath = await this.getEntryForResourceType(\n      type,\n      options?.locale !== options?.defaultLocale ? options.locale : undefined\n    )\n\n    const url = this.buildUrl(apiPath, {\n      ...options?.params,\n    })\n\n    this._debug(`Fetching resource collection of type ${type}`)\n    this._debug(url.toString())\n\n    const response = await this.fetch(url.toString(), {\n      withAuth: options.withAuth,\n    })\n\n    if (!response?.ok) {\n      await this.handleJsonApiErrors(response)\n    }\n\n    const json = await response.json()\n\n    return options.deserialize ? this.deserialize(json) : json\n  }\n\n  async getResourceCollectionFromContext<T = JsonApiResource[]>(\n    type: string,\n    context: GetStaticPropsContext,\n    options?: {\n      deserialize?: boolean\n    } & JsonApiWithLocaleOptions &\n      JsonApiWithAuthOptions\n  ): Promise<T> {\n    options = {\n      deserialize: true,\n      ...options,\n    }\n\n    return await this.getResourceCollection<T>(type, {\n      ...options,\n      locale: context.locale,\n      defaultLocale: context.defaultLocale,\n      withAuth: this.getAuthFromContextAndOptions(context, options),\n    })\n  }\n\n  getPathsFromContext = this.getStaticPathsFromContext\n\n  async getStaticPathsFromContext(\n    types: string | string[],\n    context: GetStaticPathsContext,\n    options?: {\n      params?: JsonApiParams\n      pathPrefix?: PathPrefix\n    } & JsonApiWithAuthOptions\n  ): Promise<GetStaticPathsResult<{ slug: string[] }>[\"paths\"]> {\n    options = {\n      withAuth: this.withAuth,\n      pathPrefix: \"/\",\n      params: {},\n      ...options,\n    }\n\n    if (typeof types === \"string\") {\n      types = [types]\n    }\n\n    const paths = await Promise.all(\n      types.map(async (type) => {\n        // Use sparse fieldset to expand max size.\n        // Note we don't need status filter here since this runs non-authenticated (by default).\n        const params = {\n          [`fields[${type}]`]: \"path\",\n          ...options?.params,\n        }\n\n        // Handle localized path aliases\n        if (!context.locales?.length) {\n          const resources = await this.getResourceCollection<\n            JsonApiResourceWithPath[]\n          >(type, {\n            params,\n            withAuth: options.withAuth,\n          })\n\n          return this.buildStaticPathsFromResources(resources, {\n            pathPrefix: options.pathPrefix,\n          })\n        }\n\n        const paths = await Promise.all(\n          context.locales.map(async (locale) => {\n            const resources = await this.getResourceCollection<\n              JsonApiResourceWithPath[]\n            >(type, {\n              deserialize: true,\n              locale,\n              defaultLocale: context.defaultLocale,\n              params,\n              withAuth: options.withAuth,\n            })\n\n            return this.buildStaticPathsFromResources(resources, {\n              locale,\n              pathPrefix: options.pathPrefix,\n            })\n          })\n        )\n\n        return paths.flat()\n      })\n    )\n\n    return paths.flat()\n  }\n\n  buildStaticPathsFromResources(\n    resources: {\n      path: PathAlias\n    }[],\n    options?: {\n      pathPrefix?: PathPrefix\n      locale?: Locale\n    }\n  ) {\n    const paths = resources\n      ?.flatMap((resource) => {\n        return resource?.path?.alias === this.frontPage\n          ? \"/\"\n          : resource?.path?.alias\n      })\n      .filter(Boolean)\n\n    return paths?.length\n      ? this.buildStaticPathsParamsFromPaths(paths, options)\n      : []\n  }\n\n  buildStaticPathsParamsFromPaths(\n    paths: string[],\n    options?: { pathPrefix?: PathPrefix; locale?: Locale }\n  ) {\n    return paths.flatMap((_path) => {\n      _path = _path.replace(/^\\/|\\/$/g, \"\")\n\n      // Remove pathPrefix.\n      if (options?.pathPrefix && options.pathPrefix !== \"/\") {\n        // Remove leading slash from pathPrefix.\n        const pathPrefix = options.pathPrefix.replace(/^\\//, \"\")\n\n        _path = _path.replace(`${pathPrefix}/`, \"\")\n      }\n\n      const path = {\n        params: {\n          slug: _path.split(\"/\"),\n        },\n      }\n\n      if (options?.locale) {\n        path[\"locale\"] = options.locale\n      }\n\n      return path\n    })\n  }\n\n  async translatePath(\n    path: string,\n    options?: JsonApiWithAuthOptions\n  ): Promise<DrupalTranslatedPath> {\n    options = {\n      withAuth: this.withAuth,\n      ...options,\n    }\n\n    const url = this.buildUrl(\"/router/translate-path\", {\n      path,\n    })\n\n    const response = await this.fetch(url.toString(), {\n      withAuth: options.withAuth,\n    })\n\n    if (!response?.ok) {\n      // Do not throw errors here.\n      // Otherwise next.js will catch error and throw a 500.\n      // We want a 404.\n      return null\n    }\n\n    const json = await response.json()\n\n    return json\n  }\n\n  async translatePathFromContext(\n    context: GetStaticPropsContext,\n    options?: {\n      pathPrefix?: PathPrefix\n    } & JsonApiWithAuthOptions\n  ): Promise<DrupalTranslatedPath> {\n    options = {\n      pathPrefix: \"/\",\n      ...options,\n    }\n    const path = this.getPathFromContext(context, {\n      pathPrefix: options.pathPrefix,\n    })\n\n    return await this.translatePath(path, {\n      withAuth: this.getAuthFromContextAndOptions(context, options),\n    })\n  }\n\n  getPathFromContext(\n    context: GetStaticPropsContext,\n    options?: {\n      pathPrefix?: PathPrefix\n    }\n  ) {\n    options = {\n      pathPrefix: \"/\",\n      ...options,\n    }\n\n    let slug = context.params?.slug\n\n    let pathPrefix =\n      options.pathPrefix?.charAt(0) === \"/\"\n        ? options.pathPrefix\n        : `/${options.pathPrefix}`\n\n    // Handle locale.\n    if (context.locale && context.locale !== context.defaultLocale) {\n      pathPrefix = `/${context.locale}${pathPrefix}`\n    }\n\n    slug = Array.isArray(slug)\n      ? slug.map((s) => encodeURIComponent(s)).join(\"/\")\n      : slug\n\n    // Handle front page.\n    if (!slug) {\n      slug = this.frontPage\n      pathPrefix = pathPrefix.replace(/\\/$/, \"\")\n    }\n\n    slug =\n      pathPrefix.slice(-1) !== \"/\" && slug.charAt(0) !== \"/\" ? `/${slug}` : slug\n\n    return `${pathPrefix}${slug}`\n  }\n\n  async getIndex(locale?: Locale): Promise<JsonApiResponse> {\n    const url = this.buildUrl(\n      locale ? `/${locale}${this.apiPrefix}` : this.apiPrefix\n    )\n\n    try {\n      const response = await this.fetch(url.toString(), {\n        // As per https://www.drupal.org/node/2984034 /jsonapi is public.\n        withAuth: false,\n      })\n\n      return await response.json()\n    } catch (error) {\n      this.throwError(\n        new Error(\n          `Failed to fetch JSON:API index at ${url.toString()} - ${\n            error.message\n          }`\n        )\n      )\n    }\n  }\n\n  async getEntryForResourceType(\n    type: string,\n    locale?: Locale\n  ): Promise<string> {\n    if (this.useDefaultResourceTypeEntry) {\n      const [id, bundle] = type.split(\"--\")\n      return (\n        `${this.baseUrl}` +\n        (locale ? `/${locale}${this.apiPrefix}/` : `${this.apiPrefix}/`) +\n        `${id}/${bundle}`\n      )\n    }\n\n    const index = await this.getIndex(locale)\n\n    const link = index.links?.[type] as { href: string }\n\n    if (!link) {\n      throw new Error(`Resource of type '${type}' not found.`)\n    }\n\n    const { href } = link\n\n    // Fix for missing locale in JSON:API index.\n    // This fix ensures the locale is included in the resouce link.\n    if (locale) {\n      const pattern = `^\\\\/${locale}\\\\/`\n      const path = href.replace(this.baseUrl, \"\")\n\n      if (!new RegExp(pattern, \"i\").test(path)) {\n        return `${this.baseUrl}/${locale}${path}`\n      }\n    }\n\n    return href\n  }\n\n  async preview(\n    request?: NextApiRequest,\n    response?: NextApiResponse,\n    options?: PreviewOptions\n  ) {\n    const { slug, resourceVersion, plugin } = request.query\n\n    try {\n      // Always clear preview data to handle different scopes.\n      response.clearPreviewData()\n\n      // Validate the preview url.\n      const validateUrl = this.buildUrl(\"/next/preview-url\")\n      const result = await this.fetch(validateUrl.toString(), {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(request.query),\n      })\n\n      if (!result.ok) {\n        response.statusCode = result.status\n\n        return response.json(await result.json())\n      }\n\n      const validationPayload = await result.json()\n\n      response.setPreviewData({\n        resourceVersion,\n        plugin,\n        ...validationPayload,\n      })\n\n      // Fix issue with cookie.\n      // See https://github.com/vercel/next.js/discussions/32238.\n      // See https://github.com/vercel/next.js/blob/d895a50abbc8f91726daa2d7ebc22c58f58aabbb/packages/next/server/api-utils/node.ts#L504.\n      if (this.forceIframeSameSiteCookie) {\n        const previous = response.getHeader(\"Set-Cookie\") as string[]\n        previous.forEach((cookie, index) => {\n          previous[index] = cookie.replace(\n            \"SameSite=Lax\",\n            \"SameSite=None;Secure\"\n          )\n        })\n        response.setHeader(`Set-Cookie`, previous)\n      }\n\n      // We can safely redirect to the slug since this has been validated on the server.\n      response.writeHead(307, { Location: slug })\n\n      return response.end()\n    } catch (error) {\n      return response.status(422).end()\n    }\n  }\n\n  async getMenu<T = DrupalMenuLinkContent>(\n    name: string,\n    options?: JsonApiWithLocaleOptions &\n      JsonApiWithAuthOptions &\n      JsonApiWithCacheOptions\n  ): Promise<{\n    items: T[]\n    tree: T[]\n  }> {\n    options = {\n      withAuth: this.withAuth,\n      deserialize: true,\n      params: {},\n      withCache: false,\n      ...options,\n    }\n\n    if (options.withCache) {\n      const cached = (await this.cache.get(options.cacheKey)) as string\n\n      if (cached) {\n        this._debug(`Returning cached menu items for ${name}`)\n        return JSON.parse(cached)\n      }\n    }\n\n    const localePrefix =\n      options?.locale && options.locale !== options.defaultLocale\n        ? `/${options.locale}`\n        : \"\"\n\n    const url = this.buildUrl(\n      `${localePrefix}${this.apiPrefix}/menu_items/${name}`,\n      options.params\n    )\n\n    this._debug(`Fetching menu items for ${name}.`)\n    this._debug(url.toString())\n\n    const response = await this.fetch(url.toString(), {\n      withAuth: options.withAuth,\n    })\n\n    if (!response?.ok) {\n      await this.handleJsonApiErrors(response)\n    }\n\n    const data = await response.json()\n\n    const items = options.deserialize ? this.deserialize(data) : data\n\n    const { items: tree } = this.buildMenuTree(items)\n\n    const menu = {\n      items,\n      tree,\n    }\n\n    if (options.withCache) {\n      await this.cache.set(options.cacheKey, JSON.stringify(menu))\n    }\n\n    return menu\n  }\n\n  buildMenuTree(\n    links: DrupalMenuLinkContent[],\n    parent: DrupalMenuLinkContent[\"id\"] = \"\"\n  ) {\n    if (!links?.length) {\n      return {\n        items: [],\n      }\n    }\n\n    const children = links.filter((link) => link?.parent === parent)\n\n    return children.length\n      ? {\n          items: children.map((link) => ({\n            ...link,\n            ...this.buildMenuTree(links, link.id),\n          })),\n        }\n      : {}\n  }\n\n  async getView<T = JsonApiResource>(\n    name: string,\n    options?: JsonApiWithLocaleOptions & JsonApiWithAuthOptions\n  ): Promise<DrupalView<T>> {\n    options = {\n      withAuth: this.withAuth,\n      deserialize: true,\n      params: {},\n      ...options,\n    }\n\n    const localePrefix =\n      options?.locale && options.locale !== options.defaultLocale\n        ? `/${options.locale}`\n        : \"\"\n\n    const [viewId, displayId] = name.split(\"--\")\n\n    const url = this.buildUrl(\n      `${localePrefix}${this.apiPrefix}/views/${viewId}/${displayId}`,\n      options.params\n    )\n\n    const response = await this.fetch(url.toString(), {\n      withAuth: options.withAuth,\n    })\n\n    if (!response?.ok) {\n      await this.handleJsonApiErrors(response)\n    }\n\n    const data = await response.json()\n\n    const results = options.deserialize ? this.deserialize(data) : data\n\n    return {\n      id: name,\n      results,\n      meta: data.meta,\n      links: data.links,\n    }\n  }\n\n  async getSearchIndex<T = JsonApiResource[]>(\n    name: string,\n    options?: JsonApiWithLocaleOptions & JsonApiWithAuthOptions\n  ): Promise<T> {\n    options = {\n      withAuth: this.withAuth,\n      deserialize: true,\n      ...options,\n    }\n\n    const localePrefix =\n      options?.locale && options.locale !== options.defaultLocale\n        ? `/${options.locale}`\n        : \"\"\n\n    const url = this.buildUrl(\n      `${localePrefix}${this.apiPrefix}/index/${name}`,\n      options.params\n    )\n\n    const response = await this.fetch(url.toString(), {\n      withAuth: options.withAuth,\n    })\n\n    if (!response?.ok) {\n      await this.handleJsonApiErrors(response)\n    }\n\n    const json = await response.json()\n\n    return options.deserialize ? this.deserialize(json) : json\n  }\n\n  async getSearchIndexFromContext<T = JsonApiResource[]>(\n    name: string,\n    context: GetStaticPropsContext,\n    options?: JsonApiWithLocaleOptions & JsonApiWithAuthOptions\n  ): Promise<T> {\n    return await this.getSearchIndex<T>(name, {\n      ...options,\n      locale: context.locale,\n      defaultLocale: context.defaultLocale,\n    })\n  }\n\n  buildUrl(\n    path: string,\n    params?: string | Record<string, string> | URLSearchParams | JsonApiParams\n  ): URL {\n    const url = new URL(\n      path.charAt(0) === \"/\" ? `${this.baseUrl}${path}` : path\n    )\n\n    if (typeof params === \"object\" && \"getQueryObject\" in params) {\n      params = params.getQueryObject()\n    }\n\n    if (params) {\n      // Used instead URLSearchParams for nested params.\n      url.search = stringify(params)\n    }\n\n    return url\n  }\n\n  async getAccessToken(\n    opts?: DrupalClientAuthClientIdSecret\n  ): Promise<AccessToken> {\n    if (this.accessToken && this.accessTokenScope === opts?.scope) {\n      return this.accessToken\n    }\n\n    if (!opts?.clientId || !opts?.clientSecret) {\n      if (typeof this._auth === \"undefined\") {\n        throw new Error(\n          \"auth is not configured. See https://next-drupal.org/docs/client/auth\"\n        )\n      }\n    }\n\n    if (\n      !isClientIdSecretAuth(this._auth) ||\n      (opts && !isClientIdSecretAuth(opts))\n    ) {\n      throw new Error(\n        `'clientId' and 'clientSecret' required. See https://next-drupal.org/docs/client/auth`\n      )\n    }\n\n    const clientId = opts?.clientId || this._auth.clientId\n    const clientSecret = opts?.clientSecret || this._auth.clientSecret\n    const url = this.buildUrl(opts?.url || this._auth.url || DEFAULT_AUTH_URL)\n\n    if (\n      this.accessTokenScope === opts?.scope &&\n      this._token &&\n      Date.now() < this.tokenExpiresOn\n    ) {\n      this._debug(`Using existing access token.`)\n      return this._token\n    }\n\n    this._debug(`Fetching new access token.`)\n\n    const basic = Buffer.from(`${clientId}:${clientSecret}`).toString(\"base64\")\n\n    let body = `grant_type=client_credentials`\n\n    if (opts?.scope) {\n      body = `${body}&scope=${opts.scope}`\n\n      this._debug(`Using scope: ${opts.scope}`)\n    }\n\n    const response = await this.fetch(url.toString(), {\n      method: \"POST\",\n      headers: {\n        Authorization: `Basic ${basic}`,\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      },\n      body,\n    })\n\n    if (!response?.ok) {\n      await this.handleJsonApiErrors(response)\n    }\n\n    const result: AccessToken = await response.json()\n\n    this._debug(result)\n\n    this.token = result\n\n    this.accessTokenScope = opts?.scope\n\n    return result\n  }\n\n  deserialize(body, options?) {\n    if (!body) return null\n\n    return this.serializer.deserialize(body, options)\n  }\n\n  private async getErrorsFromResponse(response: Response) {\n    const type = response.headers.get(\"content-type\")\n\n    if (type === \"application/json\") {\n      const error = await response.json()\n      return error.message\n    }\n\n    // Construct error from response.\n    // Check for type to ensure this is a JSON:API formatted error.\n    // See https://jsonapi.org/format/#errors.\n    if (type === \"application/vnd.api+json\") {\n      const _error: JsonApiResponse = await response.json()\n\n      if (_error?.errors?.length) {\n        return _error.errors\n      }\n    }\n\n    return response.statusText\n  }\n\n  private formatJsonApiErrors(errors) {\n    const [error] = errors\n\n    let message = `${error.status} ${error.title}`\n\n    if (error.detail) {\n      message += `\\n${error.detail}`\n    }\n\n    return message\n  }\n\n  private _debug(message) {\n    !!this.debug && this.logger.debug(message)\n  }\n\n  // Error handling.\n  // If throwErrors is enable, we show errors in the Next.js overlay.\n  // Otherwise we log the errors even if debugging is turned off.\n  // In production, errors are always logged never thrown.\n  private throwError(error: Error) {\n    if (!this.throwJsonApiErrors) {\n      return this.logger.error(error)\n    }\n\n    throw error\n  }\n\n  private async handleJsonApiErrors(response: Response) {\n    if (!response?.ok) {\n      const errors = await this.getErrorsFromResponse(response)\n      throw new JsonApiErrors(errors, response.status)\n    }\n  }\n\n  private getAuthFromContextAndOptions(\n    context: GetStaticPropsContext,\n    options: JsonApiWithAuthOptions\n  ) {\n    // If not in preview or withAuth is provided, use that.\n    if (!context.preview) {\n      // If we have provided an auth, use that.\n      if (typeof options?.withAuth !== \"undefined\") {\n        return options.withAuth\n      }\n\n      // Otherwise we fallback to the global auth.\n      return this.withAuth\n    }\n\n    // If no plugin is provided, return.\n    const plugin = context.previewData?.[\"plugin\"]\n    if (!plugin) {\n      return null\n    }\n\n    let withAuth = this._auth\n\n    if (plugin === \"simple_oauth\") {\n      // If we are using a client id and secret auth, pass the scope.\n      if (isClientIdSecretAuth(withAuth) && context.previewData?.[\"scope\"]) {\n        withAuth = {\n          ...withAuth,\n          scope: context.previewData?.[\"scope\"],\n        }\n      }\n    }\n\n    if (plugin === \"jwt\") {\n      const accessToken = context.previewData?.[\"access_token\"]\n\n      if (accessToken) {\n        return `Bearer ${accessToken}`\n      }\n    }\n\n    return withAuth\n  }\n}\n"],"names":["cache","NodeCache","getAccessToken","process","env","DRUPAL_CLIENT_ID","DRUPAL_CLIENT_SECRET","cached","get","CACHE_KEY","access_token","basic","Buffer","from","toString","fetch","NEXT_PUBLIC_DRUPAL_BASE_URL","method","headers","Authorization","body","response","ok","Error","statusText","json","result","set","expires_in","buildHeaders","accessToken","token","UNSTABLE_DRUPAL_ACCESS_TOKEN","getJsonApiIndex","locale","options","url","buildUrl","JSONAPI_PREFIX","getJsonApiPathForResourceType","type","index","links","href","DRUPAL_JSONAPI_PREFIX","dataFormatter","Jsona","deserialize","path","params","URL","charAt","search","stringify","getPathFromContext","context","prefix","slug","Array","isArray","map","s","encodeURIComponent","join","defaultLocale","DRUPAL_FRONT_PAGE","syncDrupalPreviewRoutes","window","top","self","parent","postMessage","getMenu","name","localePrefix","data","items","buildMenuTree","tree","length","children","filter","link","id","getResourceCollectionFromContext","getResourceCollection","undefined","apiPath","getPathsFromContext","types","Promise","all","locales","resources","buildPathsFromResources","paths","flat","flatMap","resource","alias","replace","split","getResource","uuid","getResourceByPath","isVersionable","indexOf","resourceVersion","_excluded","resourceParams","payload","requestId","action","uri","Accept","waitFor","subrequestsPath","_format","credentials","redirect","JSON","parse","errors","detail","getResourceFromContext","test","previewData","getResourcePreviewUrl","entity","default_langcode","langcode","PreviewHandler","request","query","secret","DRUPAL_PREVIEW_SECRET","status","message","errorMessages","end","_options","setPreviewData","writeHead","Location","DrupalPreview","translatePathFromContext","translatePath","getResourceTypeFromContext","_catch","jsonapi","resourceName","getSearchIndexFromContext","getSearchIndex","getView","viewId","displayId","results","meta","useMenu","router","useRouter","React","useState","setData","error","setError","isLoading","setIsLoading","useEffect","fetchMenuItems","logger","log","console","debug","warn","JsonApiErrors","statusCode","formatMessage","title","recover","e","then","DEFAULT_API_PREFIX","DEFAULT_FRONT_PAGE","DEFAULT_WITH_AUTH","DEFAULT_AUTH_URL","DEFAULT_HEADERS","isBasicAuth","auth","username","password","isAccessTokenAuth","isClientIdSecretAuth","clientId","clientSecret","DrupalClient","baseUrl","frontPage","serializer","throwJsonApiErrors","fetcher","_headers","_auth","_apiPrefix","useDefaultResourceTypeEntry","_token","accessTokenScope","tokenExpiresOn","withAuth","previewSecret","forceIframeSameSiteCookie","getStaticPathsFromContext","apiPrefix","defaultLogger","NODE_ENV","_debug","input","init","token_type","createResource","getEntryForResourceType","handleJsonApiErrors","createFileResource","hostType","attributes","field","filename","file","updateResource","deleteResource","withCache","cacheKey","pathPrefix","getAuthFromContextAndOptions","throwError","formatJsonApiErrors","buildStaticPathsFromResources","Boolean","buildStaticPathsParamsFromPaths","_path","slice","getIndex","bundle","pattern","RegExp","preview","plugin","clearPreviewData","validateUrl","validationPayload","previous","getHeader","forEach","cookie","setHeader","menu","getQueryObject","opts","scope","Date","now","getErrorsFromResponse","_error","value"],"mappings":"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"}