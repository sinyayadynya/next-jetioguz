"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/[...nextauth]";
exports.ids = ["pages/api/auth/[...nextauth]"];
exports.modules = {

/***/ "jwt-decode":
/*!*****************************!*\
  !*** external "jwt-decode" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("jwt-decode");

/***/ }),

/***/ "next-auth":
/*!****************************!*\
  !*** external "next-auth" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next-auth");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "node-cache":
/*!*****************************!*\
  !*** external "node-cache" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("node-cache");

/***/ }),

/***/ "(api)/./lib/jwt.ts":
/*!********************!*\
  !*** ./lib/jwt.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"clearJWT\": () => (/* binding */ clearJWT),\n/* harmony export */   \"getJWT\": () => (/* binding */ getJWT)\n/* harmony export */ });\n/* harmony import */ var _node_cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node-cache */ \"(api)/./lib/node-cache.ts\");\n\nconst JWT_CACHE_KEY = \"NEXT_AUTH_JWT_TOKEN\";\nasync function getJWT(initialJWT) {\n    const key = `${JWT_CACHE_KEY}.${initialJWT.accessToken.access_token}`;\n    const cachedJWT = _node_cache__WEBPACK_IMPORTED_MODULE_0__.cache.get(key);\n    // We have nothing cached, return the initial token.\n    if (!cachedJWT) {\n        // Warm the cache with the initial token.\n        _node_cache__WEBPACK_IMPORTED_MODULE_0__.cache.set(key, initialJWT, initialJWT.accessToken.expires_in);\n        return initialJWT;\n    }\n    // We have a cached token, check the expiry date.\n    if (Date.now() < cachedJWT.accessTokenExpires) {\n        return cachedJWT;\n    }\n    // The token has expired, fetch a new one.\n    const newJWT = await refreshAccessToken(cachedJWT);\n    // Persist this to cache.\n    _node_cache__WEBPACK_IMPORTED_MODULE_0__.cache.set(key, newJWT, newJWT.accessToken.expires_in);\n    return newJWT;\n}\nasync function clearJWT(jwt) {\n    const key = `${JWT_CACHE_KEY}.${jwt.accessToken.access_token}`;\n    _node_cache__WEBPACK_IMPORTED_MODULE_0__.cache.del(key);\n}\n// Helper to obtain a new access_token from a refresh token.\nasync function refreshAccessToken(token) {\n    console.log(\"Refreshing token\", {\n        token\n    });\n    try {\n        const formData = new URLSearchParams();\n        formData.append(\"grant_type\", \"refresh_token\");\n        formData.append(\"client_id\", process.env.DRUPAL_CLIENT_ID);\n        formData.append(\"client_secret\", process.env.DRUPAL_CLIENT_SECRET);\n        formData.append(\"refresh_token\", token.accessToken.refresh_token);\n        const response = await fetch(`${\"https://nomadsland.travel\"}/oauth/token`, {\n            method: \"POST\",\n            body: formData,\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\"\n            }\n        });\n        const data = await response.json();\n        if (!response.ok) {\n            throw data;\n        }\n        return {\n            ...token,\n            accessToken: data,\n            accessTokenExpires: Date.now() + data.expires_in * 1000\n        };\n    } catch (error) {\n        return {\n            ...token,\n            error: \"RefreshAccessTokenError\"\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBQ0gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2pldGktb2d1ei1kZXN0aW5hdGlvbi8uL2xpYi9qd3QudHM/ZWEyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBKV1QgfSBmcm9tIFwibmV4dC1hdXRoL2p3dFwiXG5pbXBvcnQgeyBBY2Nlc3NUb2tlbiB9IGZyb20gXCJuZXh0LWRydXBhbFwiXG5pbXBvcnQgeyBjYWNoZSB9IGZyb20gXCIuL25vZGUtY2FjaGVcIlxuXG5jb25zdCBKV1RfQ0FDSEVfS0VZID0gXCJORVhUX0FVVEhfSldUX1RPS0VOXCJcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEpXVChpbml0aWFsSldUOiBKV1QpOiBQcm9taXNlPEpXVD4ge1xuICBjb25zdCBrZXkgPSBgJHtKV1RfQ0FDSEVfS0VZfS4ke2luaXRpYWxKV1QuYWNjZXNzVG9rZW4uYWNjZXNzX3Rva2VufWBcblxuICBjb25zdCBjYWNoZWRKV1QgPSBjYWNoZS5nZXQ8SldUPihrZXkpXG5cbiAgLy8gV2UgaGF2ZSBub3RoaW5nIGNhY2hlZCwgcmV0dXJuIHRoZSBpbml0aWFsIHRva2VuLlxuICBpZiAoIWNhY2hlZEpXVCkge1xuICAgIC8vIFdhcm0gdGhlIGNhY2hlIHdpdGggdGhlIGluaXRpYWwgdG9rZW4uXG4gICAgY2FjaGUuc2V0KGtleSwgaW5pdGlhbEpXVCwgaW5pdGlhbEpXVC5hY2Nlc3NUb2tlbi5leHBpcmVzX2luKVxuXG4gICAgcmV0dXJuIGluaXRpYWxKV1RcbiAgfVxuXG4gIC8vIFdlIGhhdmUgYSBjYWNoZWQgdG9rZW4sIGNoZWNrIHRoZSBleHBpcnkgZGF0ZS5cbiAgaWYgKERhdGUubm93KCkgPCBjYWNoZWRKV1QuYWNjZXNzVG9rZW5FeHBpcmVzKSB7XG4gICAgcmV0dXJuIGNhY2hlZEpXVFxuICB9XG5cbiAgLy8gVGhlIHRva2VuIGhhcyBleHBpcmVkLCBmZXRjaCBhIG5ldyBvbmUuXG4gIGNvbnN0IG5ld0pXVCA9IGF3YWl0IHJlZnJlc2hBY2Nlc3NUb2tlbihjYWNoZWRKV1QpXG5cbiAgLy8gUGVyc2lzdCB0aGlzIHRvIGNhY2hlLlxuICBjYWNoZS5zZXQoa2V5LCBuZXdKV1QsIG5ld0pXVC5hY2Nlc3NUb2tlbi5leHBpcmVzX2luKVxuXG4gIHJldHVybiBuZXdKV1Rcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsZWFySldUKGp3dDogSldUKSB7XG4gIGNvbnN0IGtleSA9IGAke0pXVF9DQUNIRV9LRVl9LiR7and0LmFjY2Vzc1Rva2VuLmFjY2Vzc190b2tlbn1gXG4gIGNhY2hlLmRlbChrZXkpXG59XG5cbi8vIEhlbHBlciB0byBvYnRhaW4gYSBuZXcgYWNjZXNzX3Rva2VuIGZyb20gYSByZWZyZXNoIHRva2VuLlxuYXN5bmMgZnVuY3Rpb24gcmVmcmVzaEFjY2Vzc1Rva2VuKHRva2VuOiBKV1QpOiBQcm9taXNlPEpXVD4ge1xuICBjb25zb2xlLmxvZyhcIlJlZnJlc2hpbmcgdG9rZW5cIiwgeyB0b2tlbiB9KVxuICB0cnkge1xuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpXG4gICAgZm9ybURhdGEuYXBwZW5kKFwiZ3JhbnRfdHlwZVwiLCBcInJlZnJlc2hfdG9rZW5cIilcbiAgICBmb3JtRGF0YS5hcHBlbmQoXCJjbGllbnRfaWRcIiwgcHJvY2Vzcy5lbnYuRFJVUEFMX0NMSUVOVF9JRClcbiAgICBmb3JtRGF0YS5hcHBlbmQoXCJjbGllbnRfc2VjcmV0XCIsIHByb2Nlc3MuZW52LkRSVVBBTF9DTElFTlRfU0VDUkVUKVxuICAgIGZvcm1EYXRhLmFwcGVuZChcInJlZnJlc2hfdG9rZW5cIiwgdG9rZW4uYWNjZXNzVG9rZW4ucmVmcmVzaF90b2tlbilcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19EUlVQQUxfQkFTRV9VUkx9L29hdXRoL3Rva2VuYCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLFxuICAgICAgICB9LFxuICAgICAgfVxuICAgIClcblxuICAgIGNvbnN0IGRhdGE6IEFjY2Vzc1Rva2VuID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBkYXRhXG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnRva2VuLFxuICAgICAgYWNjZXNzVG9rZW46IGRhdGEsXG4gICAgICBhY2Nlc3NUb2tlbkV4cGlyZXM6IERhdGUubm93KCkgKyBkYXRhLmV4cGlyZXNfaW4gKiAxMDAwLFxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4udG9rZW4sXG4gICAgICBlcnJvcjogXCJSZWZyZXNoQWNjZXNzVG9rZW5FcnJvclwiLFxuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbImNhY2hlIiwiSldUX0NBQ0hFX0tFWSIsImdldEpXVCIsImluaXRpYWxKV1QiLCJrZXkiLCJhY2Nlc3NUb2tlbiIsImFjY2Vzc190b2tlbiIsImNhY2hlZEpXVCIsImdldCIsInNldCIsImV4cGlyZXNfaW4iLCJEYXRlIiwibm93IiwiYWNjZXNzVG9rZW5FeHBpcmVzIiwibmV3SldUIiwicmVmcmVzaEFjY2Vzc1Rva2VuIiwiY2xlYXJKV1QiLCJqd3QiLCJkZWwiLCJ0b2tlbiIsImNvbnNvbGUiLCJsb2ciLCJmb3JtRGF0YSIsIlVSTFNlYXJjaFBhcmFtcyIsImFwcGVuZCIsInByb2Nlc3MiLCJlbnYiLCJEUlVQQUxfQ0xJRU5UX0lEIiwiRFJVUEFMX0NMSUVOVF9TRUNSRVQiLCJyZWZyZXNoX3Rva2VuIiwicmVzcG9uc2UiLCJmZXRjaCIsIk5FWFRfUFVCTElDX0RSVVBBTF9CQVNFX1VSTCIsIm1ldGhvZCIsImJvZHkiLCJoZWFkZXJzIiwiZGF0YSIsImpzb24iLCJvayIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/jwt.ts\n");

/***/ }),

/***/ "(api)/./lib/node-cache.ts":
/*!***************************!*\
  !*** ./lib/node-cache.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"cache\": () => (/* binding */ cache)\n/* harmony export */ });\n/* harmony import */ var node_cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node-cache */ \"node-cache\");\n/* harmony import */ var node_cache__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(node_cache__WEBPACK_IMPORTED_MODULE_0__);\n\nconst cache = new (node_cache__WEBPACK_IMPORTED_MODULE_0___default())();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvbm9kZS1jYWNoZS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBa0M7QUFFM0IsTUFBTUMsS0FBSyxHQUFHLElBQUlELG1EQUFTLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qZXRpLW9ndXotZGVzdGluYXRpb24vLi9saWIvbm9kZS1jYWNoZS50cz9lYWJmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBOb2RlQ2FjaGUgZnJvbSBcIm5vZGUtY2FjaGVcIlxuXG5leHBvcnQgY29uc3QgY2FjaGUgPSBuZXcgTm9kZUNhY2hlKClcbiJdLCJuYW1lcyI6WyJOb2RlQ2FjaGUiLCJjYWNoZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/node-cache.ts\n");

/***/ }),

/***/ "(api)/./pages/api/auth/[...nextauth].ts":
/*!*****************************************!*\
  !*** ./pages/api/auth/[...nextauth].ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jwt_decode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jwt-decode */ \"jwt-decode\");\n/* harmony import */ var jwt_decode__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jwt_decode__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lib_jwt__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/jwt */ \"(api)/./lib/jwt.ts\");\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (next_auth__WEBPACK_IMPORTED_MODULE_0___default()({\n    pages: {\n        signIn: \"/login\"\n    },\n    providers: [\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default()({\n            name: \"Drupal\",\n            credentials: {\n                username: {\n                    label: \"Username\",\n                    type: \"text\",\n                    placeholder: \"Username\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                const formData = new URLSearchParams();\n                formData.append(\"grant_type\", \"password\");\n                formData.append(\"client_id\", process.env.DRUPAL_CLIENT_ID);\n                formData.append(\"client_secret\", process.env.DRUPAL_CLIENT_SECRET);\n                formData.append(\"username\", credentials.username);\n                formData.append(\"password\", credentials.password);\n                // Get access token from Drupal.\n                const response = await fetch(`${\"https://nomadsland.travel\"}/oauth/token`, {\n                    method: \"POST\",\n                    body: formData,\n                    headers: {\n                        \"Content-Type\": \"application/x-www-form-urlencoded\"\n                    }\n                });\n                if (!response.ok) {\n                    return null;\n                }\n                return {\n                    accessToken: await response.json()\n                };\n            }\n        }), \n    ],\n    events: {\n        signOut: async function({ token  }) {\n            return await (0,lib_jwt__WEBPACK_IMPORTED_MODULE_3__.clearJWT)(token);\n        }\n    },\n    callbacks: {\n        async jwt ({ token , user , account  }) {\n            if (account && user) {\n                // Forward the accessToken to the session.\n                token = {\n                    accessToken: user.accessToken,\n                    accessTokenExpires: Date.now() + user.accessToken.expires_in * 1000\n                };\n            }\n            return await (0,lib_jwt__WEBPACK_IMPORTED_MODULE_3__.getJWT)(token);\n        },\n        async session ({ session , token  }) {\n            if (token?.accessToken) {\n                const accessToken = token.accessToken;\n                session.accessToken = accessToken;\n                // Decode token and pass info to session.\n                // This data will be available client-side.\n                const decoded = jwt_decode__WEBPACK_IMPORTED_MODULE_2___default()(accessToken.access_token);\n                session.user.id = decoded.id;\n                session.user.email = decoded.email;\n                session.user.name = decoded.name;\n            }\n            return session;\n        }\n    }\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTBDO0FBQ3VCO0FBQzlCO0FBRU87QUFFMUMsaUVBQWVBLGdEQUFRLENBQUM7SUFDdEJLLEtBQUssRUFBRTtRQUNMQyxNQUFNLEVBQUUsUUFBUTtLQUNqQjtJQUNEQyxTQUFTLEVBQUU7UUFDVE4sc0VBQW1CLENBQUM7WUFDbEJPLElBQUksRUFBRSxRQUFRO1lBQ2RDLFdBQVcsRUFBRTtnQkFDWEMsUUFBUSxFQUFFO29CQUFFQyxLQUFLLEVBQUUsVUFBVTtvQkFBRUMsSUFBSSxFQUFFLE1BQU07b0JBQUVDLFdBQVcsRUFBRSxVQUFVO2lCQUFFO2dCQUN0RUMsUUFBUSxFQUFFO29CQUFFSCxLQUFLLEVBQUUsVUFBVTtvQkFBRUMsSUFBSSxFQUFFLFVBQVU7aUJBQUU7YUFDbEQ7WUFDRCxNQUFNRyxTQUFTLEVBQUNOLFdBQVcsRUFBRTtnQkFDM0IsTUFBTU8sUUFBUSxHQUFHLElBQUlDLGVBQWUsRUFBRTtnQkFDdENELFFBQVEsQ0FBQ0UsTUFBTSxDQUFDLFlBQVksRUFBRSxVQUFVLENBQUM7Z0JBQ3pDRixRQUFRLENBQUNFLE1BQU0sQ0FBQyxXQUFXLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxnQkFBZ0IsQ0FBQztnQkFDMURMLFFBQVEsQ0FBQ0UsTUFBTSxDQUFDLGVBQWUsRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNFLG9CQUFvQixDQUFDO2dCQUNsRU4sUUFBUSxDQUFDRSxNQUFNLENBQUMsVUFBVSxFQUFFVCxXQUFXLENBQUNDLFFBQVEsQ0FBQztnQkFDakRNLFFBQVEsQ0FBQ0UsTUFBTSxDQUFDLFVBQVUsRUFBRVQsV0FBVyxDQUFDSyxRQUFRLENBQUM7Z0JBRWpELGdDQUFnQztnQkFDaEMsTUFBTVMsUUFBUSxHQUFHLE1BQU1DLEtBQUssQ0FDMUIsQ0FBQyxFQUFFTCwyQkFBdUMsQ0FBQyxZQUFZLENBQUMsRUFDeEQ7b0JBQ0VPLE1BQU0sRUFBRSxNQUFNO29CQUNkQyxJQUFJLEVBQUVYLFFBQVE7b0JBQ2RZLE9BQU8sRUFBRTt3QkFDUCxjQUFjLEVBQUUsbUNBQW1DO3FCQUNwRDtpQkFDRixDQUNGO2dCQUVELElBQUksQ0FBQ0wsUUFBUSxDQUFDTSxFQUFFLEVBQUU7b0JBQ2hCLE9BQU8sSUFBSTtnQkFDYixDQUFDO2dCQUVELE9BQU87b0JBQ0xDLFdBQVcsRUFBRSxNQUFNUCxRQUFRLENBQUNRLElBQUksRUFBRTtpQkFDbkM7WUFDSCxDQUFDO1NBQ0YsQ0FBQztLQUNIO0lBQ0RDLE1BQU0sRUFBRTtRQUNOQyxPQUFPLEVBQUUsZUFBZ0IsRUFBRUMsS0FBSyxHQUFFLEVBQUU7WUFDbEMsT0FBTyxNQUFNL0IsaURBQVEsQ0FBQytCLEtBQUssQ0FBQztRQUM5QixDQUFDO0tBQ0Y7SUFDREMsU0FBUyxFQUFFO1FBQ1QsTUFBTUMsR0FBRyxFQUFDLEVBQUVGLEtBQUssR0FBRUcsSUFBSSxHQUFFQyxPQUFPLEdBQUUsRUFBRTtZQUNsQyxJQUFJQSxPQUFPLElBQUlELElBQUksRUFBRTtnQkFDbkIsMENBQTBDO2dCQUMxQ0gsS0FBSyxHQUFHO29CQUNOSixXQUFXLEVBQUVPLElBQUksQ0FBQ1AsV0FBVztvQkFDN0JTLGtCQUFrQixFQUFFQyxJQUFJLENBQUNDLEdBQUcsRUFBRSxHQUFHSixJQUFJLENBQUNQLFdBQVcsQ0FBQ1ksVUFBVSxHQUFHLElBQUk7aUJBQ3BFO1lBQ0gsQ0FBQztZQUVELE9BQU8sTUFBTXRDLCtDQUFNLENBQUM4QixLQUFLLENBQUM7UUFDNUIsQ0FBQztRQUNELE1BQU1TLE9BQU8sRUFBQyxFQUFFQSxPQUFPLEdBQUVULEtBQUssR0FBRSxFQUFFO1lBQ2hDLElBQUlBLEtBQUssRUFBRUosV0FBVyxFQUFFO2dCQUN0QixNQUFNQSxXQUFXLEdBQUdJLEtBQUssQ0FBQ0osV0FBVztnQkFDckNhLE9BQU8sQ0FBQ2IsV0FBVyxHQUFHQSxXQUFXO2dCQUVqQyx5Q0FBeUM7Z0JBQ3pDLDJDQUEyQztnQkFDM0MsTUFBTWMsT0FBTyxHQUFHMUMsaURBQVUsQ0FBTzRCLFdBQVcsQ0FBQ2UsWUFBWSxDQUFDO2dCQUMxREYsT0FBTyxDQUFDTixJQUFJLENBQUNTLEVBQUUsR0FBR0YsT0FBTyxDQUFDRSxFQUFFO2dCQUM1QkgsT0FBTyxDQUFDTixJQUFJLENBQUNVLEtBQUssR0FBR0gsT0FBTyxDQUFDRyxLQUFLO2dCQUNsQ0osT0FBTyxDQUFDTixJQUFJLENBQUM3QixJQUFJLEdBQUdvQyxPQUFPLENBQUNwQyxJQUFJO1lBQ2xDLENBQUM7WUFDRCxPQUFPbUMsT0FBTztRQUNoQixDQUFDO0tBQ0Y7Q0FDRixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vamV0aS1vZ3V6LWRlc3RpbmF0aW9uLy4vcGFnZXMvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS50cz8yZThiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBOZXh0QXV0aCwgeyBVc2VyIH0gZnJvbSBcIm5leHQtYXV0aFwiXG5pbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9jcmVkZW50aWFsc1wiXG5pbXBvcnQgand0X2RlY29kZSBmcm9tIFwiand0LWRlY29kZVwiXG5cbmltcG9ydCB7IGNsZWFySldULCBnZXRKV1QgfSBmcm9tIFwibGliL2p3dFwiXG5cbmV4cG9ydCBkZWZhdWx0IE5leHRBdXRoKHtcbiAgcGFnZXM6IHtcbiAgICBzaWduSW46IFwiL2xvZ2luXCIsXG4gIH0sXG4gIHByb3ZpZGVyczogW1xuICAgIENyZWRlbnRpYWxzUHJvdmlkZXIoe1xuICAgICAgbmFtZTogXCJEcnVwYWxcIixcbiAgICAgIGNyZWRlbnRpYWxzOiB7XG4gICAgICAgIHVzZXJuYW1lOiB7IGxhYmVsOiBcIlVzZXJuYW1lXCIsIHR5cGU6IFwidGV4dFwiLCBwbGFjZWhvbGRlcjogXCJVc2VybmFtZVwiIH0sXG4gICAgICAgIHBhc3N3b3JkOiB7IGxhYmVsOiBcIlBhc3N3b3JkXCIsIHR5cGU6IFwicGFzc3dvcmRcIiB9LFxuICAgICAgfSxcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKVxuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXCJncmFudF90eXBlXCIsIFwicGFzc3dvcmRcIilcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKFwiY2xpZW50X2lkXCIsIHByb2Nlc3MuZW52LkRSVVBBTF9DTElFTlRfSUQpXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChcImNsaWVudF9zZWNyZXRcIiwgcHJvY2Vzcy5lbnYuRFJVUEFMX0NMSUVOVF9TRUNSRVQpXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChcInVzZXJuYW1lXCIsIGNyZWRlbnRpYWxzLnVzZXJuYW1lKVxuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXCJwYXNzd29yZFwiLCBjcmVkZW50aWFscy5wYXNzd29yZClcblxuICAgICAgICAvLyBHZXQgYWNjZXNzIHRva2VuIGZyb20gRHJ1cGFsLlxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgIGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0RSVVBBTF9CQVNFX1VSTH0vb2F1dGgvdG9rZW5gLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfVxuICAgICAgICApXG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFjY2Vzc1Rva2VuOiBhd2FpdCByZXNwb25zZS5qc29uKCksXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSksXG4gIF0sXG4gIGV2ZW50czoge1xuICAgIHNpZ25PdXQ6IGFzeW5jIGZ1bmN0aW9uICh7IHRva2VuIH0pIHtcbiAgICAgIHJldHVybiBhd2FpdCBjbGVhckpXVCh0b2tlbilcbiAgICB9LFxuICB9LFxuICBjYWxsYmFja3M6IHtcbiAgICBhc3luYyBqd3QoeyB0b2tlbiwgdXNlciwgYWNjb3VudCB9KSB7XG4gICAgICBpZiAoYWNjb3VudCAmJiB1c2VyKSB7XG4gICAgICAgIC8vIEZvcndhcmQgdGhlIGFjY2Vzc1Rva2VuIHRvIHRoZSBzZXNzaW9uLlxuICAgICAgICB0b2tlbiA9IHtcbiAgICAgICAgICBhY2Nlc3NUb2tlbjogdXNlci5hY2Nlc3NUb2tlbixcbiAgICAgICAgICBhY2Nlc3NUb2tlbkV4cGlyZXM6IERhdGUubm93KCkgKyB1c2VyLmFjY2Vzc1Rva2VuLmV4cGlyZXNfaW4gKiAxMDAwLFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhd2FpdCBnZXRKV1QodG9rZW4pXG4gICAgfSxcbiAgICBhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfSkge1xuICAgICAgaWYgKHRva2VuPy5hY2Nlc3NUb2tlbikge1xuICAgICAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IHRva2VuLmFjY2Vzc1Rva2VuXG4gICAgICAgIHNlc3Npb24uYWNjZXNzVG9rZW4gPSBhY2Nlc3NUb2tlblxuXG4gICAgICAgIC8vIERlY29kZSB0b2tlbiBhbmQgcGFzcyBpbmZvIHRvIHNlc3Npb24uXG4gICAgICAgIC8vIFRoaXMgZGF0YSB3aWxsIGJlIGF2YWlsYWJsZSBjbGllbnQtc2lkZS5cbiAgICAgICAgY29uc3QgZGVjb2RlZCA9IGp3dF9kZWNvZGU8VXNlcj4oYWNjZXNzVG9rZW4uYWNjZXNzX3Rva2VuKVxuICAgICAgICBzZXNzaW9uLnVzZXIuaWQgPSBkZWNvZGVkLmlkXG4gICAgICAgIHNlc3Npb24udXNlci5lbWFpbCA9IGRlY29kZWQuZW1haWxcbiAgICAgICAgc2Vzc2lvbi51c2VyLm5hbWUgPSBkZWNvZGVkLm5hbWVcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXNzaW9uXG4gICAgfSxcbiAgfSxcbn0pXG4iXSwibmFtZXMiOlsiTmV4dEF1dGgiLCJDcmVkZW50aWFsc1Byb3ZpZGVyIiwiand0X2RlY29kZSIsImNsZWFySldUIiwiZ2V0SldUIiwicGFnZXMiLCJzaWduSW4iLCJwcm92aWRlcnMiLCJuYW1lIiwiY3JlZGVudGlhbHMiLCJ1c2VybmFtZSIsImxhYmVsIiwidHlwZSIsInBsYWNlaG9sZGVyIiwicGFzc3dvcmQiLCJhdXRob3JpemUiLCJmb3JtRGF0YSIsIlVSTFNlYXJjaFBhcmFtcyIsImFwcGVuZCIsInByb2Nlc3MiLCJlbnYiLCJEUlVQQUxfQ0xJRU5UX0lEIiwiRFJVUEFMX0NMSUVOVF9TRUNSRVQiLCJyZXNwb25zZSIsImZldGNoIiwiTkVYVF9QVUJMSUNfRFJVUEFMX0JBU0VfVVJMIiwibWV0aG9kIiwiYm9keSIsImhlYWRlcnMiLCJvayIsImFjY2Vzc1Rva2VuIiwianNvbiIsImV2ZW50cyIsInNpZ25PdXQiLCJ0b2tlbiIsImNhbGxiYWNrcyIsImp3dCIsInVzZXIiLCJhY2NvdW50IiwiYWNjZXNzVG9rZW5FeHBpcmVzIiwiRGF0ZSIsIm5vdyIsImV4cGlyZXNfaW4iLCJzZXNzaW9uIiwiZGVjb2RlZCIsImFjY2Vzc190b2tlbiIsImlkIiwiZW1haWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/auth/[...nextauth].ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/auth/[...nextauth].ts"));
module.exports = __webpack_exports__;

})();